"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[161],{3161:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var n=s(5671),r=s(3144),i=s(136),u=s(5716),o=s(2791),a={item:"Profile_item__9Ddj7",bg_img:"Profile_bg_img__Tse0E"},c={descriptionBlock:"ProfileInfo_descriptionBlock__XBXuJ"},p=s(4374),d=s(885),l=s(184);var h=function(t){var e=(0,o.useState)(!1),s=(0,d.Z)(e,2),n=s[0],r=s[1],i=(0,o.useState)(t.status),u=(0,d.Z)(i,2),a=u[0],c=u[1];return(0,o.useEffect)((function(){c(t.status)}),[t.status]),(0,l.jsxs)("div",{children:[!n&&(0,l.jsx)("div",{children:(0,l.jsxs)("span",{onDoubleClick:function(){r(!0)},children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",t.status||"--------"]})}),n&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus&&t.updateStatus(a)},type:"text",value:a})})]})},f=function(t){return t.profile?(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{width:"150px",src:t.profile.photos.large,alt:""}),(0,l.jsx)(h,{status:t.status,updateStatus:t.updateStatus}),(0,l.jsxs)("div",{className:c.descriptionBlock,children:[(0,l.jsx)("h2",{className:c.name,children:t.profile.fullName}),(0,l.jsxs)("p",{children:["status Job:  ",t.profile.lookingForAJob]}),(0,l.jsx)("p",{}),(0,l.jsx)("p",{children:"About me"}),(0,l.jsx)("p",{children:"City: Minsk"}),(0,l.jsx)("p",{children:"Education: BSU'11"}),(0,l.jsx)("p",{children:"Web Site: https://it-kamasutra.com"})]})]}):(0,l.jsx)(p.p,{})},m=s(2457),x="Posts_postman__kGKEs",j=function(t){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:x,children:[(0,l.jsx)("img",{width:"150px",src:"https://www.thehedgescompany.com/hedges/wp-content/uploads/2016/04/Man-at-computer-no-attribution.jpg",alt:"avatar"}),(0,l.jsx)("p",{children:t.message})]}),(0,l.jsxs)("div",{children:[" Likes:",t.likes]})]})},g=s(3366),v=s(4578),S=s(2007),b=s.n(S),k=s(8286),_=function(t){function e(e){var s;if(s=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return s}(0,v.Z)(e,t);var s=e.prototype;return s.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.render=function(){var t=this.props,e=(t._reduxForm,(0,g.Z)(t,["_reduxForm"]));return o.createElement("form",e)},e}(o.Component);_.propTypes={onSubmit:b().func.isRequired,_reduxForm:b().object};var w=(0,k.V5)(_),F=s(6139),Z=s(704),y=s(8779),P=s(1117),T=(0,y.D)(10),C=(0,Z.Z)({form:"newPostText"})((function(t){return(0,l.jsxs)(w,{onSubmit:t.handleSubmit,children:[(0,l.jsx)(F.Z,{name:"newPostText",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",component:P.g,validate:[y.C,T]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Add post"})})]})})),A=function(t){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(C,{onSubmit:function(e){t.onSubmit(e.newPostText)}})]})},U=s(8687),B=(0,U.$j)((function(t){return{posts:t.profileReducer.posts}}),(function(t){return{addPost:function(e){t((0,m.hB)(e))}}}))((function(t){var e=t.posts.map((function(t,e){return(0,l.jsx)(j,{message:t.message,likes:t.likesCount},e)}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)(A,{onSubmit:function(e){t.addPost(e)}})}),(0,l.jsxs)("div",{children:["New post:",e]})]})})),E=function(t){return(0,l.jsxs)("div",{className:a.content,children:[(0,l.jsx)(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,l.jsx)(B,{})]})},N=s(9271),R=s(2932),D=s(7781),I=function(t){(0,i.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t="".concat(this.props.autorizedUserId))||this.props.history.push("./login"),this.props.getProfileThunk(t),this.props.getUserStatusThunk(t)}},{key:"render",value:function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(E,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatusThunk})})}}]),s}(o.Component),M=(0,D.qC)((0,U.$j)((function(t){return{profile:t.profileReducer.profile,status:t.profileReducer.status,autorizedUserId:t.authReducer.id,isAuth:t.authReducer.isAuth}}),{setUserProfile:m.$l,getProfileThunk:m.VB,getUserStatusThunk:m.$S,updateUserStatusThunk:m.Gk}),N.EN,R.Z)(I)},2932:function(t,e,s){var n=s(8683),r=s(5987),i=(s(2791),s(9271)),u=s(8687),o=s(184),a=["isAuth"],c=function(t){return{isAuth:t.authReducer.isAuth}};e.Z=function(t){return(0,u.$j)(c)((function(e){var s=e.isAuth,u=(0,r.Z)(e,a);return s?(0,o.jsx)(t,(0,n.Z)({},u)):(0,o.jsx)(i.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=161.f9bc6e04.chunk.js.map